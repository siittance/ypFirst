{% extends 'base.html' %}

{% block title %}
    {% if form.instance.pk %}Редактирование позиции{% else %}Добавление позиции в заказ{% endif %}
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">
        {% if form.instance.pk %}
            Редактирование позиции
        {% else %}
            Добавление позиции в заказ
        {% endif %}
    </h2>
    
    <div class="card">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                
                <div class="form-group row">
                    <label for="{{ form.order.id_for_label }}" class="col-sm-3 col-form-label">
                        Заказ:
                    </label>
                    <div class="col-sm-9">
                        {{ form.order }}
                        {% if form.order.errors %}
                            <div class="alert alert-danger mt-2">
                                {{ form.order.errors }}
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="form-group row">
                    <label for="{{ form.catalog.id_for_label }}" class="col-sm-3 col-form-label">
                        Товар:
                    </label>
                    <div class="col-sm-9">
                        {{ form.catalog }}
                        {% if form.catalog.errors %}
                            <div class="alert alert-danger mt-2">
                                {{ form.catalog.errors }}
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="form-group row">
                    <label for="{{ form.count.id_for_label }}" class="col-sm-3 col-form-label">
                        Количество:
                    </label>
                    <div class="col-sm-9">
                        {{ form.count }}
                        {% if form.count.errors %}
                            <div class="alert alert-danger mt-2">
                                {{ form.count.errors }}
                            </div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="form-group row">
                    <div class="col-sm-9 offset-sm-3">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Сохранить
                        </button>
                        <a href="{% if form.instance.pk %}{% url ' pos_order_detail' form.instance.pk %}{% else %}{% url 'pos_order_list' %}{% endif %}"
                           class="btn btn-secondary">
                            <i class="fas fa-times"></i> Отмена
                        </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}